# Лабораторийн ажил №4
# Киноны Өгөгдлийн Сан дээр Шийдвэрийн Мод ашиглан Шийдвэрийн Зангилаа Тооцоолох нь

## 1. Танилцуулга

### Шийдвэрийн мод гэж юу вэ?
Шийдвэрийн мод нь хялбар ойлгогдох, тайлбарлахад хялбар ангиллын алгоритм юм. Үүнийг модны бүтэцтэй төстэй байдлаар дүрсэлдэг бөгөөд шийдвэрийн зангилаа, мөчир болон навч гэсэн хэсгүүдээс бүрддэг. Шийдвэрийн модонд ангиллын асуудлыг "Тийм" эсвэл "Үгүй" гэсэн хариулттай асуултуудаар шийдвэрлэдэг.

### Шийдвэрийн зангилааны ангилалд гүйцэтгэх үүрэг
Шийдвэрийн зангилаа нь өгөгдлийг хамгийн үр дүнтэй байдлаар хуваах шинж чанар ба утгыг тодорхойлдог. Зангилаа бүр нь өгөгдлийн дундах мэдээллийн хэмжээг ихэсгэх зорилготой бөгөөд энтропийг багасгаж, мэдээллийн өсөлтийг (information gain) хамгийн их болгодог.

### Киноны өгөгдлийн сан ашиглахын ач холбогдол
Киноны өгөгдлийн сан нь олон төрлийн шинж чанарыг агуулсан, шийдвэрийн мод хэрэглэхэд тохиромжтой. Энэ нь жанр, төсөв, орлого, үнэлгээ гэх мэт хүчин зүйлсийг ашиглан киноны амжилтыг урьдчилан таамаглах боломжийг олгодог. Мөн шийдвэрийн модны загварын үр дүнг харуулахад тохиромжтой, ойлгомжтой өгөгдөл юм.

## 2. Өгөгдлийн сангийн тайлбар

### Нээлттэй өгөгдлийн сан
Энэ лабораторийн ажилд IMDb-ийн шилдэг 5000 киноны өгөгдлийн санг ашиглаж байна. Энэ өгөгдлийн сан нь киноны нэр, найруулагч, жүжигчид, жанр, төсөв, орлого, IMDB үнэлгээ гэх мэт олон шинж чанаруудыг агуулдаг.

### Гол үзүүлэлтүүд
- **Төрөл (жанр)**: Киноны жанр нь ангилсан өгөгдөл бөгөөд Комеди, Драма, Адал явдалт гэх мэт байж болно.
- **Төсөв (budget)**: Киноны бүтээхэд зарцуулсан мөнгөн дүн, тоон өгөгдөл.
- **Орлого (gross)**: Киноны олсон нийт орлого, тоон өгөгдөл.
- **IMDB үнэлгээ (imdb_score)**: Киноны үнэлгээ, 1-10 хүртэлх тоон өгөгдөл.

### Зорилтот хувьсагч
Амжилттай кино: IMDB үнэлгээ 7-оос их бол амжилттай (1), бусад тохиолдолд амжилтгүй (0).

## 3. Өгөгдөл боловсруулах

Өгөгдлийг боловсруулах дараах алхмуудыг хийсэн:

1. **Өгөгдлийг ачаалах**: pandas ашиглан CSV файлаас өгөгдлийг ачаалсан.
2. **Хоосон утгуудыг устгах**: Шаардлагатай багануудын хоосон утгуудыг устгасан.
3. **Ангилсан өгөгдлийг кодлох**: Киноны төрлийг (жанр) LabelEncoder ашиглан тоон утга болгосон.
4. **Шинж чанарууд болон зорилтот хувьсагчийг тодорхойлох**: 
   - X: genre_encoded, budget, gross, title_year
   - y: success (IMDB үнэлгээ > 7 бол 1, үгүй бол 0)
5. **Өгөгдлийг сургалтын болон тестийн хэсэгт хуваах**: 80:20 харьцаатай train_test_split ашиглан хуваасан.

## 4. Шийдвэрийн модны загвар сургах

Шийдвэрийн модны загварыг дараах үндсэн алхмуудаар сургасан:

1. **Хуваах шалгуур сонгох**: Энтропи шалгуурыг ашигласан (Гини коэффициентийн оронд).
2. **Загварыг сургалтын өгөгдөл дээр тохируулах**: scikit-learn-ий DecisionTreeClassifier ашиглан загварыг сургасан.
3. **Загварыг үнэлэх**: Сургалтын болон тестийн өгөгдөл дээр загварын нарийвчлалыг үнэлсэн.

## 5. Шийдвэрийн зангилаа тооцоолох

### Энтропи томъёо
Энтропийг дараах томъёогоор тооцоолдог:

H(S) = -∑(p_i * log₂(p_i))

Энд p_i нь i ангилалд харьяалагдах өгөгдлийн магадлал.

### Information Gain томъёо
Мэдээллийн өсөлтийг дараах томъёогоор тооцоолдог:

IG(S, A) = H(S) - ∑((|S_v|/|S|) * H(S_v))

Энд:
- S нь өгөгдлийн олонлог
- A нь шинж чанар
- S_v нь A шинж чанарын v утгатай дэд олонлог
- |S_v| / |S| нь өгөгдлийн дэд олонлогийн жин

### Хуваахаас өмнө болон дараах үл мэдэгдэх байдлыг тооцоолох
Шийдвэрийн модны хамгийн чухал зангилааг олохын тулд шинж чанар бүрийн хувьд:
1. Хуваахаас өмнөх энтропийг тооцоолох
2. Боломжит босго утгуудыг сонгох
3. Босго утга бүрд зүүн ба баруун хүүхэд зангилаануудын энтропийг тооцоолох
4. Мэдээллийн өсөлтийг тооцоолох
5. Хамгийн их мэдээллийн өсөлт өгөх шинж чанар ба босго утгыг сонгох

## 6. Дүрслэл болон тайлбар

### Шийдвэрийн модны дүрслэл
Шийдвэрийн модыг matplotlib ба sklearn.tree.plot_tree() ашиглан дүрсэлсэн. Зангилаа бүр дараах мэдээллийг агуулдаг:
- Шинж чанарын нэр ба босго утга
- Гини индекс эсвэл энтропийн утга
- Зангилаан дахь өгөгдлийн тоо
- Ангилал тус бүрийн өгөгдлийн тоо

### Эхний шийдвэрийн зангилааны тайлбар
Эхний шийдвэрийн зангилаа нь 'gross' (орлого) шинж чанар дээр үндэслэсэн бөгөөд энэ нь хамгийн их мэдээллийн өсөлтийг өгдөг. Орлого нь киноны амжилтыг таамаглахад хамгийн чухал үзүүлэлт гэдгийг харуулж байна.

### Шинж чанаруудын нөлөөлөл
Шинж чанаруудын чухлын зэргийг дүрсэлсэн графикаас харахад:
- Орлого (gross) нь хамгийн чухал шинж чанар
- Дараагаар нь IMDB үнэлгээ
- Жанр нь гуравдугаарт жагсаж байна
- Гарсан он нь хамгийн бага нөлөөтэй

## 7. Дүгнэлт

### Туршилтын үр дүн
- Шийдвэрийн модны загвар нь киноны амжилтыг таамаглахад нилээд үр дүнтэй, тестийн өгөгдөл дээр ойролцоогоор 75-80% нарийвчлалтай.
- Киноны орлого нь амжилтыг таамаглахад хамгийн чухал үзүүлэлт болж байна.
- Жанр бүр өөр өөр амжилтын хувьтай, зарим жанрууд (жишээлбэл, Баримтат, Драма) илүү амжилттай байх хандлагатай.

### Киноны амжилтыг таамаглах ач холбогдол
- Кино бүтээгчид, студиуд төсөл эхлэхээс өмнө амжилтын боломжийг урьдчилан таамаглах боломжтой.
- Хөрөнгө оруулагчид кино үйлдвэрлэлийн эрсдэлийг үнэлэхэд ашиглах боломжтой.
- Киноны үзэгчид үзэх киногоо сонгоход тусалж болно.

### Хязгаарлалтууд ба сайжруулах аргууд
- Ашигласан өгөгдлийн санд хоосон утгууд их байсан тул их хэмжээний өгөгдлийг устгасан.
- Шийдвэрийн мод хэт их тохируулалт (overfitting) хийх эрсдэлтэй - энэ асуудлыг шийдвэрлэхийн тулд модны гүн хязгаарлалт тогтоох, тайрах (pruning), Рандом Форест гэх мэт ансамбл аргуудыг ашиглаж болно.
- Киноны амжилтыг үнэлэхдээ зөвхөн IMDB үнэлгээгээр хязгаарлахгүйгээр, хэд хэдэн үзүүлэлтүүдийг (жишээлбэл, шүүмжлэгчдийн үнэлгээ, шагналууд, орлогын харьцаа) нэгтгэх нь илүү бүрэн дүр зургийг харуулах боломжтой.
- Илүү олон шинж чанарыг ашиглах: Жүжигчид, найруулагч, студи, нээлтийн өдөр гэх мэт нэмэлт мэдээллийг оруулж болно. 